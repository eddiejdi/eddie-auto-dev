---
description: 'Describe what this custom agent does and when to use it.'
tools: ['vscode', 'execute', 'read', 'edit', 'search', 'web', 'agent', 'pylance-mcp-server/*', 'github.vscode-pull-request-github/copilotCodingAgent', 'github.vscode-pull-request-github/issue_fetch', 'github.vscode-pull-request-github/suggest-fix', 'github.vscode-pull-request-github/searchSyntax', 'github.vscode-pull-request-github/doSearch', 'github.vscode-pull-request-github/renderIssues', 'github.vscode-pull-request-github/activePullRequest', 'github.vscode-pull-request-github/openPullRequest', 'ms-azuretools.vscode-containers/containerToolsConfig', 'ms-python.python/getPythonEnvironmentInfo', 'ms-python.python/getPythonExecutableCommand', 'ms-python.python/installPythonPackage', 'ms-python.python/configurePythonEnvironment', 'ms-toolsai.jupyter/configureNotebook', 'ms-toolsai.jupyter/listNotebookPackages', 'ms-toolsai.jupyter/installNotebookPackages', 'todo']
---
- Nunca crie um fallback sem ser solicitado ou aprovado.
- Nunca execute um comando sem antes validar a finalização correta do comando anterior.
- Sempre que executar um comando, verifique o resultado no terminal.
- Antes de abrir um Pull Request, sempre pergunte ao usuário para confirmar (preferência: perguntar sempre).
- Em caso de erro no comando, abra um novo terminal e tente novamente.
- Sempre que preencher uma senha, armazene-a com o agent secrets e utilize-o quando necessário.
- Todos os comandos devem incluir um timeout apropriado.
- Sempre que encontrar um problema, verifique no histórico do GitHub a versão em que o recurso foi introduzido e avalie a funcionalidade para orientar a correção baseada no código legado.
- Servidor padrão:
    - Host: homelab@${HOMELAB_HOST}
    - Usuário: homelab
    - Senha: homelab
    - Diretório base: /home/homelab/agents_workspace/
    - Ambientes: dev, cert, prod
    - Autenticação RSA: se a autenticação falhar, solicite a senha, adicione a nova chave RSA no servidor e remova a chave antiga.
- Antes de aplicar qualquer configuração ou instalação, verifique se já não está presente para evitar sobrescrever projetos existentes.
- Utilize o mínimo de tokens possível para completar a tarefa.
- Evite travar a IDE (VS Code) com tarefas pesadas.
- Distribua o processamento com o servidor homelab, evitando processar grandes tarefas localmente.
- O cofre oficial deve ser o com o agent secrets; caso existam segredos locais, migre-os para o com o agent secrets.
- Sempre obtenha dados faltantes do cofre oficial (agent secrets) ou localize-os na documentação do projeto antes de prosseguir.
- Utilize SSH para conectar ao servidor remoto.
- Sempre que uma mudança for testada e estiver OK localmente, efetue o auto-merge da branch correspondente.
- Antes de efetuar qualquer commit que altere o fluxo da aplicação, execute os testes Selenium relevantes localmente e só commit/push se os testes passarem.
- Valide a conexão SSH antes de iniciar qualquer operação.
- Use o ambiente correto (dev, cert, prod) para cada operação.
- Faça backup dos arquivos importantes antes de qualquer operação crítica.
- Utilize GitHub Actions para operações de deploy.
- Distinga entre operações locais e operações no servidor.
- Consulte o agente Diretor para quaisquer dúvidas relacionadas a operações locais ou no servidor.
- Use comandos pequenos para evitar erros de sintaxe no terminal.
- Nunca é aceitável quebrar pipelines no GitHub Actions; o código deve ser revisado para garantir que tudo funcione perfeitamente.
- Valide os segredos antes de iniciar qualquer operação.
- Em caso de dúvida, consulte a documentação em docs/confluence/pages/OPERATIONS.md.
- Prefira PostgreSQL a SQLite em produção; utilize Docker ou um serviço gerenciado conforme o ambiente.
- Mantenha o ambiente saneado: remova dependências e arquivos desnecessários regularmente para evitar acúmulo de lixo digital.
- Documente todas as alterações feitas no servidor, incluindo instalações, atualizações e configurações.
- Monitore o uso de recursos do servidor (CPU, memória, disco) para garantir desempenho ideal.
- Configure alertas no Telegram para notificá-lo sobre problemas críticos no servidor.
- Utilize ferramentas de automação para tarefas repetitivas, como backups e atualizações de software.
- Mantenha o sistema operacional e todos os softwares atualizados com os últimos patches de segurança.
- Realize auditorias de segurança periódicas para identificar e corrigir vulnerabilidades.
