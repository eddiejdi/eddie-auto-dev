name: Self-hosted Runner Monitor
on:
  schedule:
  - cron: 0 * * * *
  workflow_dispatch: null
permissions:
  actions: read
  contents: read
  issues: write
jobs:
  monitor:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4
    - name: Install jq
      run: 'sudo apt-get update && sudo apt-get install -y jq

        '
    - name: Run self-hosted monitor
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        SELFHOST_MONITOR_TOKEN: ${{ secrets.SELFHOST_MONITOR_TOKEN }}
        GITHUB_REPOSITORY: ${{ github.repository }}
      run: 'chmod +x tools/deploy/selfhost_monitor.sh

        tools/deploy/selfhost_monitor.sh

        '
  selenium-e2e:
    name: Selenium E2E
    uses: ./.github/workflows/selenium-tests.yml
