[pytest]
addopts = -q -m "not integration and not external" --ignore=.venv --ignore=venv --ignore=env --ignore-glob=.venv/* --ignore-glob=**/.venv/*
markers =
    integration: marks tests that require external services or infra
    external: marks tests that need external third-party libs or credentials
filterwarnings =
    ignore::pytest.PytestRemovedIn9Warning

# Don't recurse into virtualenvs, build outputs, VCS or sub-project directories
norecursedirs = .venv venv env build dist .git node_modules btc_trading_agent homelab_copilot_agent dev_agent site estou-aqui agent_rag eddie-copilot tools

# Restrict test discovery to the tests/ directory by default
testpaths = tests
