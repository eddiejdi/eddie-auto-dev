[pytest]
addopts = -q -m "not integration and not external" \
          --ignore=.venv --ignore=venv --ignore=env \
          --ignore=dev_projects --ignore=estou-aqui --ignore=backups \
          --ignore-glob=.venv/* --ignore-glob=**/.venv/*
markers =
    integration: marks tests that require external services or infra
    external: marks tests that need external third-party libs or credentials
filterwarnings =
    ignore::pytest.PytestRemovedIn9Warning

# Don't recurse into virtualenvs, build outputs, or VCS directories
norecursedirs = .venv venv env build dist .git node_modules

# Restrict test discovery to the repository root by default
testpaths = .
